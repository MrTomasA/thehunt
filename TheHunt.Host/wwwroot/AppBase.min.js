var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),TheHunt;(function(n){var t;(function(n){function i(n,t,i,r,u){return u!==null&&u!==undefined?n.reject(u):n.reject(new e(t,i,r,null))}var o=function(){function n(n,t,i){this.baseUrl=undefined;this.jsonParseReviver=undefined;this.http=n;this.q=t;this.baseUrl=i?i:"http://localhost:63585"}return n.prototype.createBusinessStream=function(n){var i=this,t=this.baseUrl+"/api/Company/business-stream",r,u;return t=t.replace(/[?&]$/,""),r=JSON.stringify(n),u={url:t,method:"POST",data:r,transformResponse:[],headers:{"Content-Type":"application/json",Accept:"application/json"}},this.http(u).then(function(n){return i.processCreateBusinessStream(n)},function(n){if(n.status)return i.processCreateBusinessStream(n);throw n;})},n.prototype.processCreateBusinessStream=function(n){var r=n.status,u;if(r===201){var u=n.data,f=null,e=u===""?null:JSON.parse(u,this.jsonParseReviver);return f=e?t.fromJS(e):null,this.q.resolve(f)}return r!==200&&r!==204?(u=n.data,i(this.q,"An unexpected server error occurred.",r,u)):this.q.resolve(null)},n.prototype.getAllBusinessStreams=function(){var t=this,n=this.baseUrl+"/api/Company/business-stream",i;return n=n.replace(/[?&]$/,""),i={url:n,method:"GET",transformResponse:[],headers:{"Content-Type":"application/json",Accept:"application/json"}},this.http(i).then(function(n){return t.processGetAllBusinessStreams(n)},function(n){if(n.status)return t.processGetAllBusinessStreams(n);throw n;})},n.prototype.processGetAllBusinessStreams=function(n){var r=n.status,f,s,h,u;if(r===200){var u=n.data,e=null,o=u===""?null:JSON.parse(u,this.jsonParseReviver);if(o&&o.constructor===Array)for(e=[],f=0,s=o;f<s.length;f++)h=s[f],e.push(t.fromJS(h));return this.q.resolve(e)}return r!==200&&r!==204?(u=n.data,i(this.q,"An unexpected server error occurred.",r,u)):this.q.resolve(null)},n.prototype.createCompany=function(n){var i=this,t=this.baseUrl+"/api/Company",r,u;return t=t.replace(/[?&]$/,""),r=JSON.stringify(n),u={url:t,method:"POST",data:r,transformResponse:[],headers:{"Content-Type":"application/json",Accept:"application/json"}},this.http(u).then(function(n){return i.processCreateCompany(n)},function(n){if(n.status)return i.processCreateCompany(n);throw n;})},n.prototype.processCreateCompany=function(n){var t=n.status,r;if(t===201){var r=n.data,u=null,e=r===""?null:JSON.parse(r,this.jsonParseReviver);return u=e?f.fromJS(e):null,this.q.resolve(u)}return t!==200&&t!==204?(r=n.data,i(this.q,"An unexpected server error occurred.",t,r)):this.q.resolve(null)},n.prototype.saveSkillSet=function(n){var i=this,t=this.baseUrl+"/api/Talent/skill-set",r,u;return t=t.replace(/[?&]$/,""),r=JSON.stringify(n),u={url:t,method:"POST",data:r,transformResponse:[],headers:{"Content-Type":"application/json",Accept:"application/json"}},this.http(u).then(function(n){return i.processSaveSkillSet(n)},function(n){if(n.status)return i.processSaveSkillSet(n);throw n;})},n.prototype.processSaveSkillSet=function(n){var r=n.status,u;if(r===201){var u=n.data,f=null,e=u===""?null:JSON.parse(u,this.jsonParseReviver);return f=e?t.fromJS(e):null,this.q.resolve(f)}return r!==200&&r!==204?(u=n.data,i(this.q,"An unexpected server error occurred.",r,u)):this.q.resolve(null)},n}(),t,f,s,e,r,u;n.TheHuntClient=o;t=function(){function n(n){if(n)for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t])}return n.prototype.init=function(n){n&&(this.id=n.id!==undefined?n.id:null,this.businessStreamName=n.businessStreamName!==undefined?n.businessStreamName:null)},n.fromJS=function(t){var i=new n;return i.init(t),i},n.prototype.toJSON=function(n){return n=typeof n=="object"?n:{},n.id=this.id!==undefined?this.id:null,n.businessStreamName=this.businessStreamName!==undefined?this.businessStreamName:null,n},n}();n.BusinessStream=t;f=function(){function n(n){if(n)for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t])}return n.prototype.init=function(n){n&&(this.id=n.id!==undefined?n.id:null,this.companyName=n.companyName!==undefined?n.companyName:null,this.profileDescription=n.profileDescription!==undefined?n.profileDescription:null,this.businessStreamId=n.businessStreamId!==undefined?n.businessStreamId:null,this.establishmentDate=n.establishmentDate?new Date(n.establishmentDate.toString()):null,this.companyWebsiteUrl=n.companyWebsiteUrl!==undefined?n.companyWebsiteUrl:null)},n.fromJS=function(t){var i=new n;return i.init(t),i},n.prototype.toJSON=function(n){return n=typeof n=="object"?n:{},n.id=this.id!==undefined?this.id:null,n.companyName=this.companyName!==undefined?this.companyName:null,n.profileDescription=this.profileDescription!==undefined?this.profileDescription:null,n.businessStreamId=this.businessStreamId!==undefined?this.businessStreamId:null,n.establishmentDate=this.establishmentDate?this.establishmentDate.toISOString():null,n.companyWebsiteUrl=this.companyWebsiteUrl!==undefined?this.companyWebsiteUrl:null,n},n}();n.Company=f;s=function(){function n(n){if(n)for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t])}return n.prototype.init=function(n){n&&(this.id=n.id!==undefined?n.id:null,this.skillSetName=n.skillSetName!==undefined?n.skillSetName:null)},n.fromJS=function(t){var i=new n;return i.init(t),i},n.prototype.toJSON=function(n){return n=typeof n=="object"?n:{},n.id=this.id!==undefined?this.id:null,n.skillSetName=this.skillSetName!==undefined?this.skillSetName:null,n},n}();n.SkillSet=s;e=function(n){function t(t,i,r,u){var f=n.call(this)||this;return f.message=t,f.status=i,f.response=r,f.result=u,f}return __extends(t,n),t}(Error);n.SwaggerException=e;r={TheHuntClient:o};for(u in r)r.hasOwnProperty(u)&&angular.module("angularApp").service(u,["$http","$q",r[u]])})(t=n.Client||(n.Client={}))})(TheHunt||(TheHunt={})),function(n){"use strict";var t=n.Client.BusinessStream,i=n.Client.Company,r={bindings:{},templateUrl:["paths",function(n){return n.AppBase+"components/admin-metadata/admin-metadata.html"}],controller:"AdminMetadataController"},u=function(){function n(n,r){var u=this;this.$onInit=function(){u.businessStream=new t;u.company=new i;u.businessStreams=[];u.theHuntClient.getAllBusinessStreams().then(function(n){u.businessStreams=n})};this.CreateBusinessStream=function(){u.businessStream.businessStreamName?u.theHuntClient.createBusinessStream(u.businessStream).then(function(n){u.businessStream=n;u.toastr.success("You successfully saved a BusinessStream")}).catch(function(n){u.toastr.error("An error occured "+n)}):u.toastr.error("Please enter a Business Stream Name")};this.CreateCompany=function(){u.company.companyName&&u.company.businessStreamId&&u.company.profileDescription?(u.company.establishmentDate&&(u.company.establishmentDate=new Date(u.company.establishmentDate.toString())),u.theHuntClient.createCompany(u.company).then(function(n){u.company=n;u.toastr.success("You successfully saved a Company")}).catch(function(n){u.toastr.error("An error occured "+n)})):u.toastr.error("Complete required fields to save a company")};this.CreateSkillSet=function(){u.skillSet.skillSetName?u.theHuntClient.saveSkillSet(u.skillSet).then(function(n){u.skillSet=n;u.toastr.success("You successfully saved a SkillSet")}).catch(function(n){u.toastr.error("An error occured "+n)}):u.toastr.error("SkillSet Name is required")};this.theHuntClient=n;this.toastr=r}return n.$inject=["TheHuntClient","toastr"],n}();angular.module("angularApp").component("adminMetadata",r).controller("AdminMetadataController",u)}(TheHunt||(TheHunt={}));