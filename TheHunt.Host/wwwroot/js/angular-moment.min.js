"format amd";!function(){"use strict";function n(n){return angular.isUndefined(n)||null===n}function i(){try{return require("moment")}catch(n){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment");}}function t(t,r){if("undefined"==typeof r){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");r=i()}return t.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",r).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(i,r,u,f){return function(e,o,s){function a(){var n,t,i;return y?n=y:f.serverTime?(t=(new Date).getTime(),i=t-tt+f.serverTime,n=r(i)):n=r(),n}function v(){l&&(i.clearTimeout(l),l=null)}function b(n){var f=a().diff(n,nt),u=w&&f>=w,r,t;(u?o.text(n.format(g)):o.text(n.from(a(),p)),d&&ut&&o.attr("title",n.format(d)),u)||(r=Math.abs(a().diff(n,"minute")),t=3600,r<1?t=1:r<60?t=30:r<180&&(t=300),l=i.setTimeout(function(){b(n)},1e3*t))}function k(n){rt&&o.attr("datetime",n)}function h(){if(v(),c){var n=u.preprocessDate(c);b(n);k(n.toISOString())}}var c,y,l=null,p=f.withoutSuffix,d=f.titleFormat,w=f.fullDateThreshold,g=f.fullDateFormat,nt=f.fullDateThresholdUnit,tt=(new Date).getTime(),it=s.amTimeAgo,rt="TIME"===o[0].nodeName.toUpperCase(),ut=!o.attr("title");e.$watch(it,function(t){return n(t)||""===t?(v(),void(c&&(o.text(""),k(""),c=null))):(c=t,void h())});t.isDefined(s.amFrom)&&e.$watch(s.amFrom,function(t){y=n(t)||""===t?null:r(t);h()});t.isDefined(s.amWithoutSuffix)&&e.$watch(s.amWithoutSuffix,function(n){"boolean"==typeof n?(p=n,h()):p=f.withoutSuffix});s.$observe("amFullDateThreshold",function(n){w=n;h()});s.$observe("amFullDateFormat",function(n){g=n;h()});s.$observe("amFullDateThresholdUnit",function(n){nt=n;h()});e.$on("$destroy",function(){v()});e.$on("amMoment:localeChanged",function(){h()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(n,i,r,u){var f=null;this.changeLocale=function(r,u){var f=n.locale(r,u);return t.isDefined(r)&&i.$broadcast("amMoment:localeChanged"),f};this.changeTimezone=function(t){n.tz&&n.tz.setDefault?(n.tz.setDefault(t),i.$broadcast("amMoment:timezoneChanged")):r.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater.");u.timezone=t;f=t};this.preprocessDate=function(t){return f!==u.timezone&&this.changeTimezone(u.timezone),u.preprocess?u.preprocess(t):n(!isNaN(parseFloat(t))&&isFinite(t)?parseInt(t,10):t)}}]).filter("amParse",["moment",function(n){return function(t,i){return n(t,i)}}]).filter("amFromUnix",["moment",function(n){return function(t){return n.unix(t)}}]).filter("amUtc",["moment",function(n){return function(t){return n.utc(t)}}]).filter("amUtcOffset",["amMoment",function(n){function t(t,i){return n.preprocessDate(t).utcOffset(i)}return t}]).filter("amLocal",["moment",function(n){return function(t){return n.isMoment(t)?t.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(n,t,i){function r(t,r){var u=n.preprocessDate(t);return r?u.tz?u.tz(r):(i.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),u):u}return r}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(t,i,r){function u(t,r,u){if(n(t))return"";var f=i.preprocessDate(t);return f.isValid()?f.calendar(r,u):""}return u.$stateful=r.statefulFilters,u}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(t,i,r){function u(r,u,f,e){if(n(r))return"";var o=i.preprocessDate(r),s=n(u)?t():i.preprocessDate(u);return o.isValid()&&s.isValid()?o.diff(s,f,e):""}return u.$stateful=r.statefulFilters,u}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(t,i,r){function u(t,r){if(n(t))return"";var u=i.preprocessDate(t);return u.isValid()?u.format(r):""}return u.$stateful=r.statefulFilters,u}]).filter("amDurationFormat",["moment","angularMomentConfig",function(t,i){function r(i,r,u){return n(i)?"":t.duration(i,r).humanize(u)}return r.$stateful=i.statefulFilters,r}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(t,i,r){function u(r,u,f){var e,o;return n(r)?"":(r=i.preprocessDate(r),e=t(r),e.isValid()?(o=t(f),!n(f)&&o.isValid()?e.from(o,u):e.fromNow(u)):"")}return u.$stateful=r.statefulFilters,u}]).filter("amSubtract",["moment","angularMomentConfig",function(t,i){function r(i,r,u){return n(i)?"":t(i).subtract(parseInt(r,10),u)}return r.$stateful=i.statefulFilters,r}]).filter("amAdd",["moment","angularMomentConfig",function(t,i){function r(i,r,u){return n(i)?"":t(i).add(parseInt(r,10),u)}return r.$stateful=i.statefulFilters,r}]).filter("amStartOf",["moment","angularMomentConfig",function(t,i){function r(i,r){return n(i)?"":t(i).startOf(r)}return r.$stateful=i.statefulFilters,r}]).filter("amEndOf",["moment","angularMomentConfig",function(t,i){function r(i,r){return n(i)?"":t(i).endOf(r)}return r.$stateful=i.statefulFilters,r}]),"angularMoment"}var r=window&&window.process&&window.process.type;"function"==typeof define&&define.amd?define(["angular","moment"],t):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require&&!r?module.exports=t(require("angular"),require("moment")):t(angular,("undefined"!=typeof global&&"undefined"!=typeof global.moment?global:window).moment)}();